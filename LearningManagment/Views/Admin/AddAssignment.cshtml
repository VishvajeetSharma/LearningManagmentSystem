
@{
    ViewBag.Title = "AddAssignment";
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}

<head>
    <title>Add/Manage Assignment</title>
    <style>
        .form-control {
            border-radius: 0px !important;
            height: 50px;
            margin-bottom: 10px;
        }

        .btn {
            width: 70%;
            margin: 0% 15%;
        }
    </style>
</head>
<body>
    <div class="container-fluid p-0 m-0">
        <div class="row fs-3 pt-1 m-3 text-center"> <span>Add & Manage <b class="txt-mycolor1">Assignment</b></span></div>
        <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-sm-8">
                <form action="/admin/saveassignment" method="post" enctype="multipart/form-data">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="batch_dropdoun">Batch:</label>
                            <select name="ddl_batch" id="batch_dropdoun" required class="form-control mb-3 shadow bg-body-tertiary border-0">
                                <option value="">Select Batch</option>
                                @if (ViewBag.table1.Rows.Count > 0)
                                {
                                    foreach (var row in ViewBag.table1.Rows)
                                    {
                                        <option value="@row[0]">@row[1]</option>
                                    }
                                }
                            </select>
                        </div>
                        <div class="col-sm-6">
                            <label for="subject_name">Subject:</label>
                            <input type="text" id="subject_name" name="txt_subject" placeholder="Enter Your Subject Name.." required class="form-control mb-3 shadow bg-body-tertiary border-0" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="assignment_title">Assignment Title:</label>
                            <input type="text" name="txt_title" id="assignment_title" placeholder="Enter Assignment Title.." required class="form-control mb-3 shadow bg-body-tertiary border-0" />
                        </div>
                        <div class="col-sm-6">
                            <label for="uploaded_by">Uploaded By Teacher:</label>
                            <input type="text" name="txt_teacher" id="uploaded_by" placeholder="Enter Teache's Name.." required class="form-control mb-3 shadow bg-body-tertiary border-0" />
                        </div>
                    </div>
                    <div class="row">
                        <label for="assignment_description">Assignment Description:</label>
                        <textarea name="txt_desc" id="assignment_description" rows="4" placeholder="Enter Assignment Description.." required class="mb-3 shadow bg-body-tertiary border-0"></textarea>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="assignment_file">Assignment File:</label>
                            <input type="file" name="file_assignment" id="assignment_file" accept=".pdf, .doc, .docx, .ppt, .pptx" required class="form-control mb-3 shadow bg-body-tertiary border-0" />
                        </div>
                        <div class="col-sm-6">
                            <label for="last_date">Last Date of Submission:</label>
                            <input type="date" name="date_lastdate" id="last_date" required class="form-control mb-3 shadow bg-body-tertiary border-0" />
                        </div>
                    </div>

                    <div class="row">
                        <input type="submit" class="form-control shadow bg-mycolor1 border-0 btn mt-2" value="Submit" />
                    </div>
                </form>
            </div>
            <div class="col-sm-2"></div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="table-container">
                <h4 class="col-md-4">Manage <b class="txt-mycolor1">Assignment</b></h4>
                <table class="table table-bordered table-hover" id="myTable">
                    <thead class="table-dark text-uppercase">
                        <tr>
                            <th>Sr</th>
                            <th>Batch</th>
                            <td>Subject</td>
                            <th>Title</th>
                            <th>Description</th>
                            <th>Taskfile</th>
                            <th>Teacher</th>
                            <th>Last Date</th>
                            <th>Submitted On</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (ViewBag.table2.Rows.Count > 0)
                        {
                            foreach (var row in ViewBag.table2.Rows)
                            {
                                <tr>
                                    <td>@row["Sr"]</td>
                                    <td>@row[11]</td>
                                    <td>@row["Subject"]</td>
                                    <td>@row["Title"]</td>
                                    <td>@row["Description"]</td>
                                    <td><img src="~/Content/assignments/@row["TaskFile"]" height="40" width="40"/></td>
                                    <td>@row["Teacher"]</td>
                                    <td>@row["LastDate"]</td>
                                    <td>@row["Date"]</td>
                                    <td>@row["Status"]</td>
                                    <td><button class="btn bg-mycolor2">DELETE</button></td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>